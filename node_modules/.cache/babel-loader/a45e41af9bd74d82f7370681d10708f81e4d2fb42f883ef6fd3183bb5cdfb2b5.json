{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\trunk\\\\Desktop\\\\School\\\\cs450\\\\assignment4\\\\StarterCode\\\\src\\\\FileUpload.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass FileUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.handleFileSubmit = event => {\n      event.preventDefault();\n      const {\n        selectedFile\n      } = this.state;\n      if (selectedFile) {\n        const fileReader = new FileReader();\n        fileReader.onload = e => {\n          const csvText = e.target.result;\n          const parsedJsonData = this.csvToJson(csvText);\n          this.setState({\n            parsedData: parsedJsonData\n          }); // Set parsed data to state\n          this.props.setUploadedData(parsedJsonData);\n        };\n        fileReader.readAsText(selectedFile);\n      }\n    };\n    this.csvToJson = csvContent => {\n      const csvLines = csvContent.split(\"\\n\"); // Split by new line to get rows\n      const columnHeaders = csvLines[0].split(\",\").map(h => h.trim()); // Split first row to get headers\n      const parsedDataArray = [];\n      const dateParser = d3.timeParse(\"%Y-%m-%d\"); // Parse dates in format YYYY-MM-DD\n\n      for (let rowIndex = 1; rowIndex < csvLines.length; rowIndex++) {\n        if (!csvLines[rowIndex].trim()) continue; // Skip empty lines\n\n        const rowValues = csvLines[rowIndex].split(\",\"); // Split each line by comma\n        const rowObject = {};\n\n        // Map each column value to the corresponding header\n        columnHeaders.forEach((columnName, columnIndex) => {\n          var _rowValues$columnInde;\n          const cellValue = (_rowValues$columnInde = rowValues[columnIndex]) === null || _rowValues$columnInde === void 0 ? void 0 : _rowValues$columnInde.trim();\n\n          // Parse Date column as Date object\n          if (columnName === 'Date') {\n            rowObject[columnName] = dateParser(cellValue);\n          }\n          // Parse numeric columns as numbers\n          else if (['GPT-4', 'Gemini', 'PaLM-2', 'Claude', 'LLaMA-3.1'].includes(columnName)) {\n            rowObject[columnName] = parseFloat(cellValue); // Convert to number\n          }\n          // Keep other values as strings\n          else {\n            rowObject[columnName] = cellValue;\n          }\n        });\n\n        // Add object to result if it has valid data\n        if (rowObject.Date && !isNaN(rowObject['GPT-4'])) {\n          parsedDataArray.push(rowObject);\n        }\n      }\n      console.log(\"Parsed CSV data:\", parsedDataArray);\n      return parsedDataArray;\n    };\n    this.state = {\n      selectedFile: null,\n      parsedData: null // Store the parsed CSV data\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: \"#f0f0f0\",\n        padding: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Upload a CSV File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleFileSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".csv\",\n          onChange: event => this.setState({\n            selectedFile: event.target.files[0]\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default FileUpload;","map":{"version":3,"names":["React","Component","d3","jsxDEV","_jsxDEV","FileUpload","constructor","props","handleFileSubmit","event","preventDefault","selectedFile","state","fileReader","FileReader","onload","e","csvText","target","result","parsedJsonData","csvToJson","setState","parsedData","setUploadedData","readAsText","csvContent","csvLines","split","columnHeaders","map","h","trim","parsedDataArray","dateParser","timeParse","rowIndex","length","rowValues","rowObject","forEach","columnName","columnIndex","_rowValues$columnInde","cellValue","includes","parseFloat","Date","isNaN","push","console","log","render","style","backgroundColor","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","accept","onChange","files"],"sources":["C:/Users/trunk/Desktop/School/cs450/assignment4/StarterCode/src/FileUpload.js"],"sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass FileUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null,\n      parsedData: null,  // Store the parsed CSV data\n    };\n  }\n  \n  handleFileSubmit = (event) => {\n    event.preventDefault();\n    const { selectedFile } = this.state;\n    \n    if (selectedFile) {\n      const fileReader = new FileReader();\n      fileReader.onload = (e) => {\n        const csvText = e.target.result;\n        const parsedJsonData = this.csvToJson(csvText);\n        this.setState({ parsedData: parsedJsonData });  // Set parsed data to state\n        this.props.setUploadedData(parsedJsonData)\n      };\n      fileReader.readAsText(selectedFile);\n    }\n  };\n\n  csvToJson = (csvContent) => {\n    const csvLines = csvContent.split(\"\\n\");  // Split by new line to get rows\n    const columnHeaders = csvLines[0].split(\",\").map(h => h.trim()); // Split first row to get headers\n    const parsedDataArray = [];\n    const dateParser = d3.timeParse(\"%Y-%m-%d\"); // Parse dates in format YYYY-MM-DD\n\n    for (let rowIndex = 1; rowIndex < csvLines.length; rowIndex++) {\n      if (!csvLines[rowIndex].trim()) continue; // Skip empty lines\n      \n      const rowValues = csvLines[rowIndex].split(\",\"); // Split each line by comma\n      const rowObject = {};\n\n      // Map each column value to the corresponding header\n      columnHeaders.forEach((columnName, columnIndex) => {\n        const cellValue = rowValues[columnIndex]?.trim();\n        \n        // Parse Date column as Date object\n        if (columnName === 'Date') {\n          rowObject[columnName] = dateParser(cellValue);\n        } \n        // Parse numeric columns as numbers\n        else if (['GPT-4', 'Gemini', 'PaLM-2', 'Claude', 'LLaMA-3.1'].includes(columnName)) {\n          rowObject[columnName] = parseFloat(cellValue); // Convert to number\n        } \n        // Keep other values as strings\n        else {\n          rowObject[columnName] = cellValue;\n        }\n      });\n\n      // Add object to result if it has valid data\n      if (rowObject.Date && !isNaN(rowObject['GPT-4'])) {\n        parsedDataArray.push(rowObject);\n      }\n    }\n\n    console.log(\"Parsed CSV data:\", parsedDataArray);\n    return parsedDataArray;\n  };\n\n  render() {\n    return (\n      <div style={{ backgroundColor: \"#f0f0f0\", padding: 20 }}>\n        <h2>Upload a CSV File</h2>\n        <form onSubmit={this.handleFileSubmit}>\n          <input \n            type=\"file\" \n            accept=\".csv\" \n            onChange={(event) => this.setState({ selectedFile: event.target.files[0] })} \n          />\n          <button type=\"submit\">Upload</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default FileUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}